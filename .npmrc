# =============================================================================
# NPMRC Configuration - Optimized for Security and Performance
# =============================================================================

# -----------------------------------------------------------------------------
# Security Settings
# -----------------------------------------------------------------------------

# Audit configuration - Check for vulnerabilities
audit-level=moderate
fund=false

# Package integrity and security
package-lock=true
package-lock-only=false

# Prevent automatic execution of lifecycle scripts from dependencies
ignore-scripts=false

# Enable signature verification for packages (when available)
# verify-signatures=true

# -----------------------------------------------------------------------------
# Performance and Network Settings
# -----------------------------------------------------------------------------

# Enable parallel downloads and installations
maxsockets=3
network-concurrency=3

# Cache settings for better performance
cache-max=1073741824
cache-min=10485760

# Timeout settings (in milliseconds)
timeout=60000
fetch-timeout=60000
fetch-retry-mintimeout=10000
fetch-retry-maxtimeout=60000
fetch-retries=3

# Progress and logging
progress=true
loglevel=warn

# -----------------------------------------------------------------------------
# Registry and Publishing Settings
# -----------------------------------------------------------------------------

# Default registry (can be overridden per scope)
registry=https://registry.npmjs.org/

# Scoped package configuration
@d0whc3r:registry=https://registry.npmjs.org/

# Publishing configuration
# access=public
# publish-branch=master

# -----------------------------------------------------------------------------
# Development and Build Settings
# -----------------------------------------------------------------------------

# Save configuration
save=true
save-exact=false
save-prefix=^

# Engine strict mode
engine-strict=true

# Optional dependencies handling
optional=true

# -----------------------------------------------------------------------------
# pnpm Specific Settings (when using pnpm)
# -----------------------------------------------------------------------------

# Enable hoisting for better compatibility
hoist=true
hoist-pattern[]=*

# Shamefully hoist for problematic packages
shamefully-hoist=false

# Store settings
# store-dir=~/.pnpm-store

# Lockfile settings
lockfile=true
prefer-frozen-lockfile=true

# Resolution strategy
resolution-mode=highest

# -----------------------------------------------------------------------------
# Supply Chain Security
# -----------------------------------------------------------------------------

# Minimum age for packages (helps prevent typosquatting and supply chain attacks)
# This setting requires packages to be at least 72 hours old before installation
# Uncomment the following line to enable (requires npm 8.5.0+)
# minimum-age=259200000

# Enable audit signatures (requires npm 8.7.0+)
# audit-signatures=true

# -----------------------------------------------------------------------------
# CI/CD Specific Settings
# -----------------------------------------------------------------------------

# Settings that are automatically applied in CI environments
# These are handled by the CI configuration, but documented here for reference:
# - prefer-offline=true (in CI)
# - cache-folder=.npm (in CI)
# - no-audit=false (security first)
# - no-fund=true (reduce noise in CI)
